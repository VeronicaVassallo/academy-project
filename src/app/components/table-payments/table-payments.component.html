@if (loader) {
<span class="loader"></span>
}
<table>
  <thead>
    <tr>
      <th scope="col">Data</th>
      <th scope="col">Intestatario</th>
      <th scope="col">Totale</th>
      <th scope="col">Descrizione</th>
      <th scope="col">Stato pagamento</th>
      <ng-container *ngIf="isUserRole(ERole.ROLE_USER)">
        <th scope="col"></th>
      </ng-container>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let payment of paymentsList; trackBy: trackByPayment">
      <td>{{ payment.startDate | date : "dd/MM/yy HH:mm" }}</td>
      <td *ngIf="payment.user && isFullUser(payment.user)">
        {{ payment.user.name }} {{ payment.user.surname }}
      </td>
      <td>{{ payment.total }}â‚¬</td>
      <td>{{ payment.description }}</td>
      <td>{{ payment.ongoing ? "pagato" : "non pervenuto" }}</td>
      <ng-container *ngIf="isUserRole(ERole.ROLE_USER) && !payment.ongoing">
        <td>
          <button
            type="button"
            class="btn btn-primary"
            (click)="updatePayment(payment)"
          >
            Paga
          </button>
        </td>
      </ng-container>
    </tr>
  </tbody>
</table>
